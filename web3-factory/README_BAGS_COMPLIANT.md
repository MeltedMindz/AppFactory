# Web3 Factory

![Web3 Factory](web3factory.png)

**Solana-first tokenized web app generation built on official Bags SDK.**

Web3 Factory transforms Web3 app concepts into production-ready tokenized web applications using the official Bags SDK with full compliance to documented principles and best practices.

## What Web3 Factory Does

- **Validates Web3 necessity** — Ensures your idea actually benefits from blockchain technology
- **Creates functional tokens** — Generates Solana tokens using official Bags SDK 3-step process  
- **Builds complete web apps** — Produces production-ready Next.js or Vite + React applications
- **Integrates Solana seamlessly** — Handles wallet connection, token operations, and transaction flows
- **Routes fees transparently** — Built-in 75%/25% fee split with immutable partner attribution
- **Follows Bags best practices** — Rate limiting, error handling, file uploads, and idempotency

## When Tokens Make Sense (and When They Don't)

**Tokens are functional primitives for specific use cases:**

- **ACCESS** — Users spend tokens to unlock features or premium content
- **USAGE** — Users consume tokens for each action or API call  
- **FEE CAPTURE** — Token holders receive fees generated by app usage
- **GOVERNANCE-LITE** — Token grants voting rights on simple app parameters

**Tokens are optional.** Web3 Factory validates whether blockchain technology improves your idea. Apps that don't benefit from tokens won't include them.

**Not suitable for:**
- Simple productivity apps better served by traditional databases
- Consumer apps where tokens add complexity without value
- Ideas where fiat payments serve the same purpose

## Bags SDK Compliance

Web3 Factory implements **100% of documented Bags principles:**

### ✅ Implemented Guides
- **[Launch Token](https://docs.bags.fm/how-to-guides/launch-token)** — Complete 3-step SDK process
- **[TypeScript Setup](https://docs.bags.fm/how-to-guides/typescript-node-setup)** — ESM modules, proper dependencies

### ✅ Implemented Principles  
- **[Program IDs](https://docs.bags.fm/principles/program-ids)** — All mainnet addresses configured
- **[Lookup Tables](https://docs.bags.fm/principles/lookup-tables)** — Public LUT + custom LUT for >15 fee claimers
- **[Tipping](https://docs.bags.fm/principles/tipping)** — Optional tipping for supported endpoints
- **[Error Handling](https://docs.bags.fm/principles/error-handling)** — Exponential backoff, retry logic
- **[Rate Limits](https://docs.bags.fm/principles/rate-limits)** — 1,000/hour compliance with request queueing
- **[File Uploads](https://docs.bags.fm/principles/file-uploads)** — 15MB limit, type validation, signatures
- **[API Key Management](https://docs.bags.fm/principles/api-key-management)** — Environment-specific keys

**Resources:** [Bags Documentation](https://docs.bags.fm/) | [Developer Portal](https://dev.bags.fm)

## Web3 Factory Pipeline (W1–W5)

**W1: Web3 Idea Validation**  
Validates that your idea meaningfully benefits from blockchain technology. Tests whether tokens serve a functional purpose vs pure speculation.

**W2: Token Role Definition**  
Chooses exactly ONE primary token role and defines economics, supply model, and fee routing. Ensures tokens serve app functionality.

**W3: App Architecture**  
Selects optimal framework (Next.js or Vite + React), designs wallet integration strategy, and plans failure modes.

**W4: Bags Integration**  
Configures Bags SDK for deterministic token creation with environment-based configuration. Prepares fee routing and token parameters.

**W5: Build & Ship**  
Creates Solana token via Bags SDK, generates complete production-ready web application, and integrates token functionality.

## Fee Routing & Partner Attribution

**Transparent fee structure:**
- **75%** → App creator (you)
- **25%** → App Factory partner

**Implementation details:**
- Partner key: `FDYcVLxHkekUFz4M29hCuBH3vbf1aLm62GEFZxLFdGE7` (hardcoded)
- Used for Bags fee attribution, not payout addresses
- Enforced via Bags SDK partner configuration
- Documented in all token receipts for transparency

This applies **only to protocol-level fees**. You maintain complete freedom over token economics and app monetization.

## Quickstart

**Prerequisites:** Node.js 18+, Solana wallet, Bags API key from https://dev.bags.fm

### Environment Setup
```bash
# Navigate to Web3 Factory
cd web3-factory

# Copy environment template  
cp .env.example .env
```

**Edit `.env` with your configuration:**
```bash
# Bags API (get from https://dev.bags.fm)
BAGS_API_KEY=your_api_key_here

# Solana Network
SOLANA_RPC_URL=https://api.mainnet-beta.solana.com
SOLANA_NETWORK=mainnet-beta

# Wallet Configuration
CREATOR_WALLET_ADDRESS=your_public_key
PRIVATE_KEY=your_base58_private_key

# Optional Tipping
TIP_WALLET=jito_or_provider_wallet
TIP_LAMPORTS=100000
```

### Generate Complete Web3 App
```bash
# Use Claude Code to generate tokenized web app
web3 idea "Create a decentralized marketplace where users stake tokens to list items"

# Your app is generated at builds/your-app-name/
cd builds/your-app-name/
npm install
npm run dev
```

### Standalone Token Launch
```bash
# Test environment setup
npm run validate-env

# Create token configuration
npm run launch-token

# Launch your token
npm run launch-token -- ./sample-token-config.json
```

## Generated App Structure

```
builds/<app_name>/
├── package.json                    # Complete dependencies with Bags SDK
├── next.config.js                  # Framework configuration  
├── .env.example                    # Environment template
├── README.md                       # Setup and deployment guide
├── src/
│   ├── components/
│   │   ├── WalletConnection.tsx    # Solana wallet adapter
│   │   ├── TokenDisplay.tsx        # Real-time token balance
│   │   └── TokenActions.tsx        # Token functionality
│   ├── hooks/
│   │   ├── useToken.ts            # Token operations
│   │   └── useTransactions.ts     # Transaction handling
│   └── utils/
│       └── constants.ts           # Token address & config
├── token/
│   ├── token_receipt.json         # Creation receipt with fee routing
│   ├── token_receipt.md           # Human-readable token info
│   └── token_failure.json         # Debug info (if creation fails)
└── deployment_guide.md            # Production deployment steps
```

## Security & Key Management

**Environment Variables (Required)**
- API keys are environment-specific (dev/staging/prod)
- Private keys must never be committed to version control
- Use separate wallets for development vs production

**Hardcoded Values (By Design)**
- Partner key `FDYcVLxHkekUFz4M29hCuBH3vbf1aLm62GEFZxLFdGE7` for fee attribution
- Bags program IDs for mainnet operations
- Rate limiting and error handling parameters

**Security Best Practices**
- Rotate API keys regularly
- Monitor usage at https://dev.bags.fm dashboard
- Use hardware wallets for production creator keys
- Validate all environment variables before token creation

## Status & Roadmap

**Current Status: Active Development**
- Full Bags SDK v3 compliance implemented
- Production-ready token creation and web app generation
- Complete error handling and rate limiting
- Comprehensive documentation and examples

**Future Enhancements**
- Dashboard for token monitoring and analytics
- Advanced token economics templates
- Multi-network support beyond Solana
- Enhanced Web3 validation criteria

---

**Web3 Factory transforms Web3 ideas into tokenized reality with production-grade Solana integration.**